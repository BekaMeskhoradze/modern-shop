{% extends "core/base.html" %}
{% load static %}
{% block title %}Search — Modern Shop{% endblock %}
{% block content %}
    <header class="mb-6">
        <h1 class="text-2xl font-semibold tracking-tight">Search results</h1>
        {% if search_query %}<p class="muted">Query: “{{ search_query }}”</p>{% endif %}
    </header>
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        {% for product in products %}
            <div class="group rounded-2xl border card p-3 hover:shadow-soft transition">
                <a href="{{ product.get_absolute_url }}" class="block">
                    <div class="relative rounded-xl overflow-hidden border"
                         style="border-color: var(--line)">
                        <div class="relative pt-[100%] bg-[rgba(0,0,0,.04)] dark:bg-[rgba(255,255,255,.05)]">
                            <img src="{% if product.main_image %}{{ product.main_image.url }}{% else %}{% static 'img/placeholder.svg' %}{% endif %}"
                                 alt="{{ product.name }}"
                                 class="absolute inset-0 w-full h-full object-cover"
                                 loading="lazy">
                        </div>
                    </div>
                    <div class="pt-3 space-y-1">
                        <h3 class="font-medium truncate">{{ product.name }}</h3>
                        <div class="font-semibold">{{ product.price }}</div>
                    </div>
                </a>
                <a href="{{ product.get_absolute_url }}"
                   class="mt-3 block px-3 py-2 rounded-xl border card text-center hover:shadow-soft transition">Choose size →</a>
            </div>
        {% empty %}
            <div class="col-span-full rounded-2xl border card p-12 text-center">
                <p class="muted">No results.</p>
            </div>
        {% endfor %}
    </div>
{% endblock %}
